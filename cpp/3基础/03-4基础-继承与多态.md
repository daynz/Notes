[TOC]

# 面向对象程序设计(OOP)

概念：面向对象编程（Object-Oriented Programming，OOP）是一种编程范式，它将现实世界中的实体抽象为对象，并通过这些对象之间的交互来设计和构建软件系统。

核心思想：**数据抽象**、**继承**和**动态绑定**
> 数据抽象：可以将类的接口与实现分离；
> 继承：可以定义相似的类型并对其相似关系建模;
> 动态绑定：可以在一定程度上忽略相似类型的区别,而以统一的方式使用它们的对象。 

例：教务管理系统
TODO：介绍例子
学生类，教师类，管理员类。

##  继承与动态绑定

###  基类

基类（也称为父类或超类）是用于被其他类继承的类。

> 在基类中用`virtual`关键字声明的成员函数称为**虚函数**。
> 
> 被声明为`protected`(受保护的)的成员可以被该类的**成员函数**、**派生类的成员函数**和**友元函数**访问，但**不能被类的外部代码直接访问**。

### 派生类

派生类（也称为子类）是从一个或多个基类（父类）继承而来的类。

> `:`后面是**派生类列表**，用于指定一个类从哪些基类继承而来。大多数只继承自一个类，这种形式称为单继承。（多继承将在后续介绍）
> 
> `override`关键字用于明确标识一个派生类中的函数是对基类中虚函数的重写。派生类经常(但不总是)覆盖继承的虚函数。派生类可以在它继承的函数前使用virtual关键字(可以省略)。
>  
>  如果派生类没有覆盖基类中的某个虚函数，则该虚函数的行为类似于其他的普通成员，派生类会直接继承其在基类中的版本。

#### 派生类对象及派生类向基类的类型转换
#### 派生类的构造函数
#### 派生类使用基类的成员
#### 派生类的声明
#### 被用作为基类的类
#### 防止继承发生
#### 纯虚函数

### 动态绑定
### 虚函数
### 继承与静态成员
### 继承与类型转换
### 继承与控制访问
### 继承与类作用域
### 继承与友元

## 拷贝控制

### 构造

### 拷贝

### 赋值

### 析构

### 移动

## 重载运算

### 基本概念
#### 概念：

运算符重载（Operator Overloading）是一种允许程序员为自定义类型（如类和结构体）定义或改变已有运算符（如+、-、*、/等）行为的功能。
#### 目的：

1. 增强代码的可读性和直观性：通过使用熟悉的运算符，可以使代码更接近自然语言的表达，例如对自定义的矩阵类重载 “+” 运算符来实现矩阵相加，代码看起来更加直观。
2. 方便操作自定义类型：使得对自定义类型的操作与内置类型的操作方式类似，提高了代码的一致性和易用性。
#### 可重载的运算符

1. 算术运算符：`+`、`-`、`*`、`/`、`%`、`++`、`--`。
2. 关系运算符：`==`、`!=`、`<`、`>`、`<=`、`>=`。
3. 逻辑运算符：`!`、`&&`、`||`、`!`(不推荐重载，因为它是一个单目运算符，并且通常用作逻辑运算。
4. 赋值运算符：`=`、`+=`、`-=`、`*=`、`/=`、`%=`、`^=`、`&=`、`|=`、`<<=`、`>>=`。
6. 输入输出运算符：`<<`和 `>>`。
7. 位运算符：`^`、`&`、`|`、`~`。
8. 下标：`[]`。
9. 函数调用：`()`。
10. 访问运算符：`->`、`->*`。
11. `new`、`new[]`、`delete`、`delete[]`。
#### 不可重载的运算符

1. 访问运算符：`.`、`.*`。
2. 作用域解析运算符：`::`。
3. 条件运算符：`?:`(三元运算符)。
4. `sizeof`运算符。
5. `typeid`运算符。
###  9.2. 重载运算例

#### 重载输出运算符和输入运算符

输入输出运算符必须是非成员函数。

```c++
ostream &operator<<(ostream& os, const Course& c)
{
	os << c.uid() << " " << c.name() << " " << c.classroom(); 
	return os;
}
```

> 第一个形参：是一个非常量ostream对象的引用。因为向流写入内容会改变其状态，形参是引用是因为无法直接复制一个otream对象。
> 第二个形参：一般是一个常量的引用。是操作的对象。

```C++
istream &operator>>(istream& is, Course& c)
{

}
```
> 第一个形参：是将要读取的流的引用。
> 第二个形参：是将要读入到对象中的引用。

**错误处理**：
#### 算术和关系运算符

```C++
Complex operator+(const Complex& c1, const Complex& c2)
{
	Complex sum;
	sum.r = c1.r + c2.r;
	sum.i = c1.i + c2.i;
	return sum;
}
```

#### 相等运算符

#### 关系运算符

#### 赋值运算符

#### 下标运算符

#### 递增和递减运算符

#### 成员访问运算符

### 函数调用运算符

#### lambda表达式

#### 函数对象

#### 可调用对象与function

